(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3843,6716],{8794:(e,s,r)=>{"use strict";r.d(s,{A:()=>c,AuthProvider:()=>n});var a=r(95155),t=r(12115),l=r(93004),d=r(35317),o=r(13843);let i=(0,t.createContext)({user:null,login:async()=>{throw Error("Not implemented")},signup:async()=>{throw Error("Not implemented")},logout:async()=>{throw Error("Not implemented")},loading:!0});function n(e){let{children:s}=e,[r,n]=(0,t.useState)(null),[c,m]=(0,t.useState)(!0);(0,t.useEffect)(()=>{let e=(0,l.hg)(o.auth,e=>{n(e),m(!1)});return()=>e()},[]);let u=async(e,s)=>{try{let r=await (0,l.x9)(o.auth,e,s);return n(r.user),localStorage.setItem("last-login-email",e),r.user}catch(e){throw console.error("Login error:",e.code,e.message),e}},x=async(e,s,r)=>{try{let a=(await (0,l.eJ)(o.auth,s,r)).user;return await (0,l.r7)(a,{displayName:e}),await (0,d.BN)((0,d.H9)(o.db,"users",a.uid),{uid:a.uid,displayName:e,email:s,createdAt:new Date().toISOString()}),n(a),a}catch(e){throw console.error("Signup error:",e.code,e.message),e}},h=async()=>{try{await (0,l.CI)(o.auth),n(null)}catch(e){throw console.error("Logout error:",e.code,e.message),e}};return(0,a.jsx)(i.Provider,{value:{user:r,login:u,signup:x,logout:h,loading:c},children:s})}let c=()=>(0,t.useContext)(i)},13843:(e,s,r)=>{"use strict";let a;r.d(s,{auth:()=>o,db:()=>i});var t=r(23915),l=r(93004),d=r(35317);a=(0,t.Dk)().length?(0,t.Dk)()[0]:(0,t.Wp)({apiKey:"AIzaSyCUXDjtCkalFKkukgedZePOySwYLimkakM",authDomain:"new-awv-app.firebaseapp.com",projectId:"new-awv-app",storageBucket:"new-awv-app.firebasestorage.app",messagingSenderId:"466832878",appId:"1:466832878:web:504bb7a0b7de0705cad2ff"});let o=(0,l.xI)(a),i=(0,d.aU)(a)},50331:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var a=r(95155),t=r(12115),l=r(6874),d=r.n(l),o=r(35695),i=r(62177),n=r(8794);function c(){let e=(0,o.useRouter)(),{login:s,user:r,loading:l}=(0,n.A)(),[c,m]=(0,t.useState)(null),[u,x]=(0,t.useState)(!1);(0,t.useEffect)(()=>{r&&!l&&e.push("/dashboard")},[r,l,e]);let{register:h,handleSubmit:p,formState:{errors:b}}=(0,i.mN)(),g=async e=>{x(!0),m(null);try{await s(e.email,e.password)}catch(e){"auth/user-not-found"===e.code||"auth/wrong-password"===e.code?m("Invalid email or password"):"auth/too-many-requests"===e.code?m("Too many attempts. Please try again later."):m("An error occurred during login. Please try again."),console.error("Login error:",e)}finally{x(!1)}};return l?(0,a.jsx)("div",{className:"min-h-screen flex justify-center items-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,a.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,a.jsx)(d(),{href:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"create a new account"})]})]}),(0,a.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,a.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[c&&(0,a.jsx)("div",{className:"mb-4 bg-red-50 border-l-4 border-red-400 p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm text-red-700",children:c})})]})}),(0,a.jsxs)("form",{className:"space-y-6",onSubmit:p(g),children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,a.jsxs)("div",{className:"mt-1",children:[(0,a.jsx)("input",{id:"email",type:"email",autoComplete:"email",...h("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"appearance-none block w-full px-3 py-2 border ".concat(b.email?"border-red-300":"border-gray-300"," rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm")}),b.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.email.message})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,a.jsxs)("div",{className:"mt-1",children:[(0,a.jsx)("input",{id:"password",type:"password",autoComplete:"current-password",...h("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:"appearance-none block w-full px-3 py-2 border ".concat(b.password?"border-red-300":"border-gray-300"," rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm")}),b.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.password.message})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),(0,a.jsx)("div",{className:"text-sm",children:(0,a.jsx)(d(),{href:"/forgot-password",className:"font-medium text-blue-600 hover:text-blue-500",children:"Forgot your password?"})})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Signing in...":"Sign in"})})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Test credentials"})})]}),(0,a.jsx)("div",{className:"mt-6 grid grid-cols-1 gap-3",children:(0,a.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,a.jsx)("p",{className:"text-sm text-gray-700",children:"Email: test@example.com"}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:"Password: Test123!"})]})})]})]})})]})}},64552:(e,s,r)=>{Promise.resolve().then(r.bind(r,50331))}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,9192,6874,7131,9224,8243,8441,1684,7358],()=>s(64552)),_N_E=e.O()}]);