(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3843,7802],{5279:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(12115);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))})},5500:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(12115);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))})},8794:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,AuthProvider:()=>o});var a=s(95155),r=s(12115),l=s(93004),n=s(35317),i=s(13843);let d=(0,r.createContext)({user:null,login:async()=>{throw Error("Not implemented")},signup:async()=>{throw Error("Not implemented")},logout:async()=>{throw Error("Not implemented")},loading:!0});function o(e){let{children:t}=e,[s,o]=(0,r.useState)(null),[c,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=(0,l.hg)(i.auth,e=>{o(e),m(!1)});return()=>e()},[]);let x=async(e,t)=>{try{let s=await (0,l.x9)(i.auth,e,t);return o(s.user),localStorage.setItem("last-login-email",e),s.user}catch(e){throw console.error("Login error:",e.code,e.message),e}},h=async(e,t,s)=>{try{let a=(await (0,l.eJ)(i.auth,t,s)).user;return await (0,l.r7)(a,{displayName:e}),await (0,n.BN)((0,n.H9)(i.db,"users",a.uid),{uid:a.uid,displayName:e,email:t,createdAt:new Date().toISOString()}),o(a),a}catch(e){throw console.error("Signup error:",e.code,e.message),e}},u=async()=>{try{await (0,l.CI)(i.auth),o(null)}catch(e){throw console.error("Logout error:",e.code,e.message),e}};return(0,a.jsx)(d.Provider,{value:{user:s,login:x,signup:h,logout:u,loading:c},children:t})}let c=()=>(0,r.useContext)(d)},13843:(e,t,s)=>{"use strict";let a;s.d(t,{auth:()=>i,db:()=>d});var r=s(23915),l=s(93004),n=s(35317);a=(0,r.Dk)().length?(0,r.Dk)()[0]:(0,r.Wp)({apiKey:"AIzaSyCUXDjtCkalFKkukgedZePOySwYLimkakM",authDomain:"new-awv-app.firebaseapp.com",projectId:"new-awv-app",storageBucket:"new-awv-app.firebasestorage.app",messagingSenderId:"466832878",appId:"1:466832878:web:504bb7a0b7de0705cad2ff"});let i=(0,l.xI)(a),d=(0,n.aU)(a)},19064:(e,t,s)=>{Promise.resolve().then(s.bind(s,22512))},22512:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(95155),r=s(12115),l=s(92975);let n=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))});var i=s(5500),d=s(72227);let o=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))});var c=s(47359),m=s(5279),x=s(92071),h=s(8794);function u(){let{user:e}=(0,h.A)(),[t,u]=(0,r.useState)([]),[g,p]=(0,r.useState)([]),[f,v]=(0,r.useState)([]),[w,b]=(0,r.useState)([]),[j,y]=(0,r.useState)(!0),[N,k]=(0,r.useState)(null),[A,E]=(0,r.useState)("charts"),[D,R]=(0,r.useState)({dateRange:"all",startDate:null,endDate:null,provider:"",template:"",showFollowups:!1}),[C,L]=(0,r.useState)("pdf"),[S,M]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(e){y(!0),k(null);try{let e={},{auth:t}=await Promise.resolve().then(s.bind(s,13843)),a=t.currentUser;if(a){let t=await a.getIdToken();e={Authorization:"Bearer ".concat(t)}}let r=await fetch("/api/visits",{headers:{...e}});if(!r.ok)throw Error("Error fetching visits: ".concat(r.statusText));let l=await r.json();u(l);let n=await fetch("/api/patients",{headers:{...e}});if(n.ok){let e=await n.json();p(e)}let i=await fetch("/api/templates",{headers:{...e}});if(i.ok){let e=await i.json();v(e)}if(l.length>0){let e=Array.from(new Set(l.map(e=>e.provider))).filter(Boolean).map(e=>({id:e,name:e}));b(e)}}catch(e){console.error("Error loading report data:",e),k("Failed to load report data. Please try again.")}finally{y(!1)}}})()},[e]);let F=t.filter(e=>{if(D.provider&&e.provider!==D.provider||D.template&&e.templateId!==D.template||D.showFollowups&&!e.followupRecommended)return!1;if("all"!==D.dateRange){let t=new Date(e.date),s=new Date;if("last30"===D.dateRange){let e=new Date;if(e.setDate(s.getDate()-30),t<e)return!1}else if("last90"===D.dateRange){let e=new Date;if(e.setDate(s.getDate()-90),t<e)return!1}else if("thisYear"===D.dateRange){if(t<new Date(s.getFullYear(),0,1))return!1}else if("custom"===D.dateRange&&(D.startDate&&new Date(e.date)<new Date(D.startDate)||D.endDate&&new Date(e.date)>new Date(D.endDate)))return!1}return!0}),P=F.length,V=new Set(F.map(e=>e.patientId)).size,B=P>0?Math.round(F.reduce((e,t)=>e+t.assessmentScore,0)/P):0,H=P>0?Math.round(F.filter(e=>e.followupRecommended).length/P*100):0,Z=P>0?(F.reduce((e,t)=>e+t.recommendationCount,0)/P).toFixed(1):"0",T=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),O=(e,t)=>{R(s=>({...s,[e]:t}))},I=()=>{alert("Exporting ".concat(F.length," visit reports as ").concat(C.toUpperCase()))};return j?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):N?(0,a.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm text-red-700",children:N})})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(x.A,{}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Generate reports and view analytics for your Annual Wellness Visits"})]}),(0,a.jsxs)("div",{className:"mt-4 md:mt-0 flex space-x-3",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>M(!S),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,a.jsx)(o,{className:"-ml-1 mr-2 h-5 w-5 text-gray-500"}),S?"Hide Filters":"Show Filters"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>I(),className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,a.jsx)(c.A,{className:"-ml-1 mr-2 h-5 w-5"}),"Export Reports"]})]})]}),S&&(0,a.jsxs)("div",{className:"bg-white p-4 shadow rounded-lg mb-6",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Filters"}),(0,a.jsx)("button",{type:"button",onClick:()=>{R({dateRange:"all",startDate:null,endDate:null,provider:"",template:"",showFollowups:!1})},className:"text-sm text-blue-600 hover:text-blue-500",children:"Reset All"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"dateRange",className:"block text-sm font-medium text-gray-700",children:"Date Range"}),(0,a.jsxs)("select",{id:"dateRange",name:"dateRange",value:D.dateRange,onChange:e=>O("dateRange",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,a.jsx)("option",{value:"all",children:"All Time"}),(0,a.jsx)("option",{value:"last30",children:"Last 30 Days"}),(0,a.jsx)("option",{value:"last90",children:"Last 90 Days"}),(0,a.jsx)("option",{value:"thisYear",children:"This Year"}),(0,a.jsx)("option",{value:"custom",children:"Custom Range"})]})]}),"custom"===D.dateRange&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700",children:"Start Date"}),(0,a.jsx)("input",{type:"date",id:"startDate",name:"startDate",value:D.startDate||"",onChange:e=>O("startDate",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700",children:"End Date"}),(0,a.jsx)("input",{type:"date",id:"endDate",name:"endDate",value:D.endDate||"",onChange:e=>O("endDate",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"provider",className:"block text-sm font-medium text-gray-700",children:"Provider"}),(0,a.jsxs)("select",{id:"provider",name:"provider",value:D.provider,onChange:e=>O("provider",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,a.jsx)("option",{value:"",children:"All Providers"}),w.map(e=>(0,a.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"template",className:"block text-sm font-medium text-gray-700",children:"Template"}),(0,a.jsxs)("select",{id:"template",name:"template",value:D.template,onChange:e=>O("template",e.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm",children:[(0,a.jsx)("option",{value:"",children:"All Templates"}),f.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{className:"flex items-center h-full pt-6",children:[(0,a.jsx)("input",{id:"showFollowups",name:"showFollowups",type:"checkbox",checked:D.showFollowups,onChange:e=>O("showFollowups",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"showFollowups",className:"ml-2 block text-sm text-gray-700",children:"Show only visits requiring follow-up"})]}),(0,a.jsx)("div",{className:"flex items-center h-full pt-6",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Export Format:"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"pdf",name:"exportFormat",type:"radio",value:"pdf",checked:"pdf"===C,onChange:()=>L("pdf"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,a.jsx)("label",{htmlFor:"pdf",className:"ml-2 block text-sm text-gray-700",children:"PDF"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"csv",name:"exportFormat",type:"radio",value:"csv",checked:"csv"===C,onChange:()=>L("csv"),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,a.jsx)("label",{htmlFor:"csv",className:"ml-2 block text-sm text-gray-700",children:"CSV"})]})]})})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing ",F.length," ",1===F.length?"result":"results"]}),(0,a.jsxs)("button",{type:"button",onClick:async()=>{y(!0);try{let e={},{auth:t}=await Promise.resolve().then(s.bind(s,13843)),a=t.currentUser;if(a){let t=await a.getIdToken();e={Authorization:"Bearer ".concat(t)}}let r=await fetch("/api/visits",{headers:{...e}});if(!r.ok)throw Error("Error refreshing visits: ".concat(r.statusText));let l=await r.json();u(l)}catch(e){console.error("Error refreshing data:",e),k("Failed to refresh data. Please try again.")}finally{y(!1)}},className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700",children:[(0,a.jsx)(m.A,{className:"mr-1 h-4 w-4"}),"Refresh"]})]}),(0,a.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,a.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,a.jsx)("button",{onClick:()=>E("summary"),className:"".concat("summary"===A?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," py-4 px-1 border-b-2 font-medium text-sm focus:outline-none"),children:"Summary"}),(0,a.jsx)("button",{onClick:()=>E("visits"),className:"".concat("visits"===A?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," py-4 px-1 border-b-2 font-medium text-sm focus:outline-none"),children:"Visit Reports"}),(0,a.jsx)("button",{onClick:()=>E("templates"),className:"".concat("templates"===A?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"," py-4 px-1 border-b-2 font-medium text-sm focus:outline-none"),children:"Template Analytics"})]})}),(0,a.jsxs)("div",{children:["summary"===A&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4 mb-6",children:[(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 bg-blue-100 rounded-md p-3",children:(0,a.jsx)(l.A,{className:"h-6 w-6 text-blue-600","aria-hidden":"true"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Visits"}),(0,a.jsx)("dd",{children:(0,a.jsx)("div",{className:"text-lg font-medium text-gray-900",children:P})})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 bg-green-100 rounded-md p-3",children:(0,a.jsx)(n,{className:"h-6 w-6 text-green-600","aria-hidden":"true"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Unique Patients"}),(0,a.jsx)("dd",{children:(0,a.jsx)("div",{className:"text-lg font-medium text-gray-900",children:V})})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 bg-yellow-100 rounded-md p-3",children:(0,a.jsx)(i.A,{className:"h-6 w-6 text-yellow-600","aria-hidden":"true"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Average Assessment Score"}),(0,a.jsx)("dd",{children:(0,a.jsxs)("div",{className:"text-lg font-medium text-gray-900",children:[B,"/100"]})})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 bg-red-100 rounded-md p-3",children:(0,a.jsx)(d.A,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Follow-up Rate"}),(0,a.jsx)("dd",{children:(0,a.jsxs)("div",{className:"text-lg font-medium text-gray-900",children:[H,"%"]})})]})})]})})})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg mb-6",children:[(0,a.jsx)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Visit Trends"})}),(0,a.jsx)("div",{className:"p-6 text-center",children:(0,a.jsx)("div",{className:"py-12 flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.A,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No chart data to display"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"In a production app, this would display a chart showing visit trends over time."})]})})})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Recommendation Analytics"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-base font-medium text-gray-900 mb-2",children:"Average Recommendations Per Visit"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-blue-600",children:Z}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"recommendations per visit"})]})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"text-base font-medium text-gray-900 mb-2",children:"Follow-up Required"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("span",{className:"text-3xl font-bold text-red-600",children:[H,"%"]}),(0,a.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"of visits require follow-up"})]})]})]})})]})]}),"visits"===A&&(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Visit Reports"}),(0,a.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Detailed information for each completed visit."})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Patient"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Template"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Follow-up"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===F.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No visits match your filters."})}):F.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.patientName})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:T(e.date)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.provider})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.templateName})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.assessmentScore})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.followupRecommended?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.followupRecommended?"Yes":"No"})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,a.jsx)("a",{href:"/visits/".concat(e.id,"/summary"),className:"text-blue-600 hover:text-blue-900 mr-4",children:"View"}),(0,a.jsx)("button",{type:"button",className:"text-blue-600 hover:text-blue-900",onClick:()=>alert("Downloading report for ".concat(e.patientName)),children:"Download"})]})]},e.id))})]})})]}),"templates"===A&&(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6 border-b border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Template Analytics"}),(0,a.jsx)("p",{className:"mt-1 max-w-2xl text-sm text-gray-500",children:"Performance metrics for each assessment template."})]}),0===f.length?(0,a.jsx)("div",{className:"px-6 py-4 text-center",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"No templates available."})}):(0,a.jsx)("div",{className:"px-6 py-6 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:f.map(e=>{var t;let s=F.filter(t=>t.templateId===e.id),r=s.length,l=r>0?Math.round(s.reduce((e,t)=>e+t.assessmentScore,0)/r):0;return(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:e.name}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Times Used:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:r})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Avg. Score:"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:[l,"/100"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Questions:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.sections)||void 0===t?void 0:t.reduce((e,t)=>{var s;return e+((null===(s=t.questions)||void 0===s?void 0:s.length)||0)},0))||0})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Last Used:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:s.length>0?T(s.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())[0].date):"Never"})]})]})]},e.id)})})]})]})]})})]})}},35695:(e,t,s)=>{"use strict";var a=s(18999);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},40058:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(12115);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))})},47359:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(12115);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},64219:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(12115);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))})},69994:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(12115);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))})},72227:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(12115);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))})},92071:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var a=s(95155),r=s(12115),l=s(6874),n=s.n(l),i=s(35695),d=s(69994),o=s(40058),c=s(72227),m=s(64219),x=s(94830);let h=r.forwardRef(function(e,t){let{title:s,titleId:a,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),s?r.createElement("title",{id:a},s):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))});function u(e){let{title:t,breadcrumbs:s}=e,r=(0,i.usePathname)(),l="/dashboard"!==r,u=!r.includes("/patients/new");r.includes("/templates/new");let g=!r.includes("/visits/schedule")&&!r.includes("/dashboard-visits"),p=!r.includes("/patients")||r.includes("/patients/new"),f=!r.includes("/visits")&&!r.includes("/dashboard-visits")||r.includes("/visits/schedule"),v=!r.includes("/templates")||r.includes("/templates/new");return(0,a.jsxs)("div",{className:"mb-8",children:[(t||s)&&(0,a.jsxs)("div",{className:"mb-4",children:[t&&(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:t}),s&&s.length>0&&(0,a.jsx)("nav",{className:"flex mt-1","aria-label":"Breadcrumb",children:(0,a.jsx)("ol",{className:"flex items-center space-x-2",children:s.map((e,t)=>(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center",children:[t>0&&(0,a.jsx)("svg",{className:"h-5 w-5 flex-shrink-0 text-gray-300",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:(0,a.jsx)("path",{d:"M5.555 17.776l8-16 .894.448-8 16-.894-.448z"})}),(0,a.jsx)(n(),{href:e.href,className:"ml-2 text-sm font-medium ".concat(e.current?"text-gray-700":"text-gray-500 hover:text-gray-700"),"aria-current":e.current?"page":void 0,children:e.name})]})},e.href))})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[l&&(0,a.jsxs)(n(),{href:"/dashboard",className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:[(0,a.jsx)(d.A,{className:"-ml-1 mr-2 h-5 w-5 text-gray-500"}),"Dashboard"]}),u&&(0,a.jsxs)(n(),{href:"/patients/new",className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:[(0,a.jsx)(o.A,{className:"-ml-1 mr-2 h-5 w-5 text-gray-500"}),"Add Patient"]}),g&&(0,a.jsxs)(n(),{href:"/dashboard-visits?new=true",className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:[(0,a.jsx)(c.A,{className:"-ml-1 mr-2 h-5 w-5 text-gray-500"}),"Schedule Visit"]}),p&&(0,a.jsxs)(n(),{href:"/patients",className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:[(0,a.jsx)(m.A,{className:"-ml-1 mr-2 h-5 w-5 text-gray-500"}),"Patients"]}),f&&(0,a.jsxs)(n(),{href:"/dashboard-visits",className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:[(0,a.jsx)(x.A,{className:"-ml-1 mr-2 h-5 w-5 text-gray-500"}),"Visits"]}),v&&(0,a.jsxs)(n(),{href:"/templates",className:"inline-flex items-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50",children:[(0,a.jsx)(h,{className:"-ml-1 mr-2 h-5 w-5 text-gray-500"}),"Templates"]})]})]})}},92975:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(12115);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))})},94830:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(12115);let r=a.forwardRef(function(e,t){let{title:s,titleId:r,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":r},l),s?a.createElement("title",{id:r},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))})}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,9192,6874,7131,9224,8441,1684,7358],()=>t(19064)),_N_E=e.O()}]);