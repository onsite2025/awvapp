(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6665],{32461:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(12115);let s=a.forwardRef(function(e,t){let{title:r,titleId:s,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))})},39100:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(95155),s=r(12115),l=r(35695),n=r(34477);let i=(0,n.createServerReference)("406630a64e3f6658636ebd9d513f831598454d4e81",n.callServer,void 0,n.findSourceMapURL,"fetchTemplateById"),d=(0,n.createServerReference)("60766e72f487687b18c8cf341f3963bd9682331d3a",n.callServer,void 0,n.findSourceMapURL,"modifyTemplate");var o=r(39109),c=r(32461),m=r(6874),u=r.n(m),x=r(8794);function h(e){let{params:t}=e,r=(0,l.useRouter)(),n=t.id,{user:m}=(0,x.A)(),[h,p]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),[b,j]=(0,s.useState)(!0),[y,N]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=async()=>{try{let e=await i(n);if(e){let t=JSON.parse(JSON.stringify(e));v(t)}else N("Template not found")}catch(e){console.error("Error fetching template:",e),N("Error loading template data")}finally{j(!1)}};m&&e()},[n,m]);let g=async e=>{try{p(!0),e.id=n;let t=await d(n,e);console.log("Template updated:",t),await new Promise(e=>setTimeout(e,500)),r.push("/templates")}catch(e){console.error("Error updating template:",e),alert("There was an error updating the template. Please try again.")}finally{p(!1)}};return b?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"spinner mb-4 h-12 w-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"text-gray-700",children:"Loading template..."})]})}):y||!f?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"mb-4 text-red-500",children:(0,a.jsx)("svg",{className:"h-12 w-12 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsx)("h2",{className:"text-xl font-medium text-gray-900",children:y||"Template not found"}),(0,a.jsx)("p",{className:"mt-2 text-gray-500",children:"The template you're looking for does not exist or couldn't be loaded."}),(0,a.jsx)("div",{className:"mt-6",children:(0,a.jsxs)(u(),{href:"/templates",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 mr-2"}),"Back to Templates"]})})]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)(u(),{href:"/templates",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-2",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-1"}),"Back to Templates"]}),(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Edit Template: ",f.name]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Update your template structure, questions, and recommendations"})]})}),h?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"spinner mb-4 h-12 w-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"}),(0,a.jsx)("p",{className:"text-gray-700",children:"Saving your template..."})]})}):(0,a.jsx)(o.A,{initialTemplate:f,onSave:g})]})}},68471:(e,t,r)=>{Promise.resolve().then(r.bind(r,39100))}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,9192,2113,6874,7131,9224,8243,7880,8406,8441,1684,7358],()=>t(68471)),_N_E=e.O()}]);