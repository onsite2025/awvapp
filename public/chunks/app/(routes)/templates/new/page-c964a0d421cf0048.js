(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{7221:(e,s,t)=>{Promise.resolve().then(t.bind(t,72548))},72548:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(95155),a=t(12115),n=t(35695),l=t(39109),i=t(34477);let d=(0,i.createServerReference)("60dc31f173c57dedb09dbbbb1f594c583f11061012",i.callServer,void 0,i.findSourceMapURL,"createTemplate");var c=t(8794);function o(){let e=(0,n.useRouter)(),{user:s}=(0,c.A)(),[t,i]=(0,a.useState)(!1),[o,m]=(0,a.useState)(null),u=async t=>{try{if(i(!0),m(null),!t.name.trim())throw Error("Template name is required");if(!t.sections||0===t.sections.length)throw Error("Template must have at least one section");console.log("Saving template:",JSON.stringify(t,null,2));let r=await d(t,null==s?void 0:s.uid);console.log("Template saved successfully:",r),await new Promise(e=>setTimeout(e,800)),e.push("/templates")}catch(e){console.error("Error saving template:",e),m(e instanceof Error?e.message:"Unknown error saving template"),i(!1)}};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Create New Template"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Build a custom AWV template with sections, questions, recommendations, and skip logic"}),(0,r.jsx)("div",{className:"mt-4 p-4 bg-green-50 border border-green-300 rounded-md",children:(0,r.jsxs)("p",{className:"text-sm text-green-800",children:["The template builder has been restored with all features:",(0,r.jsx)("span",{className:"font-medium",children:" sections, recommendation texts, skip logic, and advanced question types!"})]})})]}),o&&(0,r.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-300 rounded-md",children:(0,r.jsxs)("p",{className:"text-sm text-red-800",children:[(0,r.jsx)("span",{className:"font-medium",children:"Error: "}),o]})}),t?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"spinner mb-4 h-12 w-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto"}),(0,r.jsx)("p",{className:"text-gray-700",children:"Saving your template..."})]})}):(0,r.jsx)(l.A,{onSave:u})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,9192,2113,7131,9224,8243,7880,8406,8441,1684,7358],()=>s(7221)),_N_E=e.O()}]);